<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <meta http-equiv="content-type" content="text/html;charset=koi8-r">
</head>
<body>
<pre>Этот эмулятор БК-0010 (пока только БК-0010, у меня нет никакой<br>информации об устройстве БК-0011(м)) сделан путём постепенной<br>модификации эмулятора PDP-11, содержащего следующее извещение:<br><br>Copyright 1994, Eric A. Edwards<br><br>Permission to use, copy, modify, and distribute this<br>software and its documentation for any purpose and without<br>fee is hereby granted, provided that the above copyright<br>notice appear in all copies.  Eric A. Edwards makes no<br>representations about the suitability of this software<br>for any purpose.  It is provided "as is" without expressed<br>or implied warranty.<br><br>Замечания по установке:<br><br>Для компиляции нужно установить пакет SDL (www.libsdl.org). Я пользовался<br>версией 1.2.7.<br><br>gcc (я пользовался версией 4.0.0) должен скомпилировать все без проблем.<br><br>Перед запуском убедитесь, что каталог, где находятся программы<br>maketape и readtape, упомянут в PATH. Эти две программы используются<br>для эмуляции магнитофона.<br><br>Служебные файлы прошивок (*.ROM, их имена совместимы с именами,<br>используемыми в других эмуляторах) должны находиться или в каталоге /usr/share/bk,<br>или в каталоге, указанном в переменной окружения BK_PATH. Если<br>эта переменная установлена с пустым значением, все служебные файлы<br>ищутся в текущем каталоге. <br><br>Аргументы командной строки:<br><br>-a - выключить автозапуск<br>-n - выключить звук (no noise)<br>-f - full speed (не синхронизировать модельное время БК с реальным)<br>	если указан -f, но не указан -n, то синхронизация звука<br>	с изображением не гарантируется<br>-c - цветной экран при старте<br>-lфайл - печатать (напр, по команде LLIST в Бейсике) в "файл",<br>	по умолчанию принтер отсутствует, чтобы не конфликтовать<br>	с программами, определяющими наличие джойстика<br>-Rфайл - заменить ROM по адресу 120000 на файл (если без слешей -<br>	то в каталоге служебных файлов, если со слешами, то по<br>	стандартным правилам поиска файлов); просто -R включает<br>	16K RAM 120000-157777.<br>-rфайл - подключить ROM по адресу 160000<br><br>Ключ -c обычно не нужен, т.к. цветность<br>переключается кнопкой Scroll Lock.<br><br>ВНИМАНИЕ: клавиша АР2 имитируется не Alt-ом (он в Линуксе<br>обычно захвачен оконным менеджером), а левым Win-ом (между<br>левыми Ctrl и Alt), или тем, что назначено на KeySym LSuper.<br> <br>Файлы (в формате .bin, т.е. 2 байта начало, 2 байта длина, данные)<br>можно загружать как "по-настоящему" (напр. из монитора<br>командой М) - при этом можно указывать юниксные пути,<br>лишь бы длина имени не была больше 16 символов,<br>так и путем нажатия клавиши F12.  В текстовом окне, из которого<br>был запущен эмулятор, появится приглашение NAME? После загрузки<br>будет сообщен начальный адрес загрузки и предполагаемые адреса автозапуска.<br>  <br>Запись файлов "по-настоящему" (например, SAVE или CSAVE в Бейсике)<br>создает файлы в формате .bin (ровно с тем именем, под которым<br>производилась запись, исключая концевые пробелы) в текущем каталоге<br>(или, если в имени файла были слеши, то в нижележащем, если каталог<br>существует).<br><br>Обратите внимание, что никакие системные адреса не перехватываются,<br>а вся работа с "магнитофоном" полностью эмулируется.<br><br>Новости:<br><br>2003-09-28: Режим БК-0011М практически работает, за исключением<br>мелких деталей (быстрое переключение палитр, работа с магнитофоном,<br>блокировка СТОП и т.п.)<br><br>2003-09-17: Учет времени выполнения операций теперь делается в тактах<br>процессора, а не в десятых долях микросекунды. Реализована поддержка<br>записи на флоппи-диск. Первая проба поддержки мыши (ключ -m, пока<br>не документирован; захват/отпускание курсора мыши в окне эмулятора - <br>нажатием средней кнопки).<br><br>2003-09-15: Реализована поддержка чтения из образа флоппи-диска при использовании<br>прошивок 326 или 327.<br><br>2003-09-10: Начата (пока только чтение) реализация поддержки режима ускоренного<br>обмена с магнитофоном путем перехвата системных адресов.<br>Выбор такого режима производится при компиляции с помощью указания<br>опции -DFAKE_TAPE.<br><br>2003-09: Качество звука улучшено - клавесин, BKDEMO и говорун звучат очень неплохо.<br><br>Введена возможность делать reset (переход на адрес 100000): <br>АР2 + F11.<br><br>	Leo<br></pre>
</body>
</html>
